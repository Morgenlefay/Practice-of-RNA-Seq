---------###### LeafCutter Installation
git clone https://github.com/davidaknowles/leafcutter
修改里面的一个脚本 scripts/bam2junc.sh 把软件路径增添进去(leafCutterDir='/home/morgenlefay/leafcutter')

---------###### Installing the R package
install.packages("devtools")
devtools::install_github("davidaknowles/leafcutter/leafcutter")

---------###### Samtools
conda create -n leafcutter
conda activate leafcutter
conda install -c bioconda samtools 
conda install -c bioconda igv
conda install -c bioconda bedtools

---------###### bam2junc
for bamfile in `ls RNA_seq/*.bam`; do
     echo Converting $bamfile to $bamfile.junc
     sh leafcutter/scripts/bam2junc.sh $bamfile $bamfile.junc
     echo $bamfile.junc >> Alternative_Splicing.txt
 done

---------###### Intron clustering
python leafcutter/clustering/leafcutter_cluster.py -j A315T.txt -m 50 -o A315T 500000
zcat A315T_perind_numers.counts.gz | more 

---------###### Differential splicing analysis.
leafcutter/scripts/leafcutter_ds.R -i 2 -g 2 --num_threads 4 A315T_perind_numers.counts.gz groups_file.txt


---------###### Generate the annotation files
leafcutter/leafviz/gtf2leafcutter.pl -o gencode.v19 Reference/GTF/gencode.v19.annotation.gtf

###Plot pdf differentially spliced clusters
leafcutter/scripts/gtf_to_exons.R Reference/GTF/gencode.v19.annotation.gtf gencode.v19_exons.txt.gz

leafcutter/scripts/ds_plots.R -e leafcutter/leafcutter/data/gencode.v19_exons.txt.gz A315T_perind_numers.counts.gz groups_file.txt leafcutter_ds_cluster_significance.txt -f 0.05
